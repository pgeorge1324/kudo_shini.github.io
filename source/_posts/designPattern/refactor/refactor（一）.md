---
date: 2021-05-13 14:26:52
title: refactor(一)
tags:
- designPattern
- refactor
categories:
- [designPattern, refactor]
---

***重构是一种对软件内部结构的改善，目的是在不改变软件的可见行为的情况下，使其更易理解，修改成本更低。***

### 重构的目的：为什么要重构（why）？

- 重构是避免过度设计的有效手段。

- 重构实际上是对我们学习的经典设计思想、设计原则、设计模式、编程规范的一种应用。
- 重构能力也是衡量一个工程师代码能力的有效手段。

### 重构的对象：到底重构什么（what）？

- 大型重构指的是对顶层代码设计的重构，包括：系统、模块、代码结构、类与类之间的关系等的重构，重构的手段有：分层、模块化、解耦、抽象可复用组件等等。这类重构的工具就是我们学习过的那些设计思想、原则和模式。这类重构涉及的代码改动会比较多，影响面会比较大，所以难度也较大，耗时会比较长，引入 bug 的风险也会相对比较大。
- 小型重构指的是对代码细节的重构，主要是针对类、函数、变量等代码级别的重构，比如规范命名、规范注释、消除超大类或函数、提取重复代码等等。小型重构更多的是利用我们能后面要讲到的编码规范。这类重构要修改的地方比较集中，比较简单，可操作性较强，耗时会比较短，引入 bug 的风险相对来说也会比较小。你只需要熟练掌握各种编码规范，就可以做到得心应手。

### 重构的时机：什么时候重构（when）？

- 提倡的重构策略是持续重构。

### 重构的方法：又该如何重构（how）？

- 静态代码分析工具（比如 CheckStyle、FindBugs、PMD）



