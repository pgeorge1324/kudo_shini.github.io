# 查看用户

1. ## 查看当前终端信息

   ```
   who am i
   
   #or 
   
   who mom likes
   ```

   ![image-20200911110625464](C:\Users\wm200618\AppData\Roaming\Typora\typora-user-images\image-20200911110625464.png)

#### 	   pts表示伪终端，1是伪终端编号

### who参数：

| 参数 | 说明                       |
| ---- | -------------------------- |
| `-a` | 打印能打印的全部           |
| `-d` | 打印死掉的进程             |
| `-m` | 同`am i`，`mom likes`      |
| `-q` | 打印当前登录用户数及用户名 |
| `-u` | 打印当前登录用户登录信息   |
| `-r` | 打印运行等级               |

# 创建用户

```
sudo adduser kudo //创建用户
sudo passwd [username] //修改密码
ls /home //查看用户工作目录
su -l [username] //切换用户
who am i //
whoami //看当前登录用户的用户名，去掉空格直接使用 whoami 即可
```

# 用户权限

#### su，su- 与 sudo

**需要注意 Linux 环境下输入密码是不会显示的。**

`su <user>` 可以切换到用户 user，执行时需要输入目标用户的密码，`sudo <cmd>` 可以以特权级别运行 cmd 命令，需要当前用户属于 sudo 组，且需要输入当前用户的密码。`su - <user>` 命令也是切换用户，但是同时用户的环境变量和工作目录也会跟着改变成目标用户所对应的。

# 用户组

## 一.  查看用户组


1. ### 方法一：使用 groups 命令

```
groups [username]
```

​	默认情况下在 sudo 用户组里的可以使用 sudo 命令获得 root 权限。shiyanlou 用户也可以使用 sudo 命令，为什么这里没有显示在 sudo 用户组里呢？可以查看下 `/etc/sudoers.d/shiyanlou` 文件，我们在 `/etc/sudoers.d` 目录下创建了这个文件，从而给 shiyanlou 用户赋予了 sudo 权限：	![此处输入图片的描述](https://doc.shiyanlou.com/document-uid13labid3timestamp1454035855554.png)

2. ### 方法二：查看/etc/group文件

   ```
   cat /etc/group|sort//或者cat /etc/group | grep -E "shiyanlou"
   ```

   /etc/group 的内容包括用户组（Group）、用户组口令、GID（组 ID） 及该用户组所包含的用户（User），每个用户组一条记录。格式如下：

   > group_name:password:GID:user_list

## 二.加入用户组

​	使用 `usermod` 命令可以为用户添加用户组，同样使用该命令你必需有 root 权限，你可以直接使用 root 用户为其它用户添加用户组，或者用其它已经在 sudo 用户组的用户使用 sudo 命令获取权限来执行该命令。

```
sudo usermod -G sudo [name]
```

## 三.删除用户

```
sudo deluser [name] --remove-home
//--remove-home删除工作空间
```

## 四.更多

#### `adduser` 和 `useradd` 的区别是什么

答：`useradd` 只创建用户，不会创建用户密码和工作目录，创建完了需要使用 `passwd <username>` 去设置新用户的密码。`adduser` 在创建用户的同时，会创建工作目录和密码（提示你设置），做这一系列的操作。其实 `useradd`、`userdel` 这类操作更像是一种命令，执行完了就返回。而 `adduser` 更像是一种程序，需要你输入、确定等一系列操作。