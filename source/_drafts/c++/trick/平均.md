- 防溢出求平均并向上取整

  - ```c++
    int half = (s >> 1) + (e >> 1) + ((s | e) & 1);
    ```

- 防溢出求平均并向下取整

  - ```c++
    int half = (s >> 1) + (e >> 1) + (s & 1 & e);
    ```

    