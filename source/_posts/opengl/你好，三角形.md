---
date: 2021-05-13 14:26:52
title: 你好，三角形
tags:
- opengl
categories:
- [opengl]
---

# 你好，三角形

- ## 创建顶点数组（标准化设备坐标）

- ## 数据发送给顶点着色器

- ## 顶点着色器

  - GPU上创建内存储存顶点数据（通过顶点缓冲对象【VBO】管理内存）

  - 配置OpenGL如何解释内存

  - 指定发送给显卡的方式

  - VBO优点：在GPU内存/显存中储存大量顶点。通过VBO可以一次性发送大量数据到显卡上，从CPU发送到显卡比较慢，显卡访问显存比较快

  - ```
    // 顶点着色器源码
    const char *vertexShaderSource = "#version 330 core\n"
                                     "layout (location = 0) in vec3 aPos;\n"
                                     "void main()\n"
                                     "{\n"
                                     "   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\n"
                                     "}\0";
    // 创建顶点着色器
    unsigned int vertexShader;
    vertexShader = glCreateShader(GL_VERTEX_SHADER);
    // 源码附着到顶点着色器对象上
    glShaderSource(vertexShader, 1, &vertexShaderSource, NULL);
    // 编译源码
    glCompileShader(vertexShader);
    
    // 获取编译情况，并输出编译log
    int  success;
    char infoLog[512];
    glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &success);
    if(!success)
    {
        glGetShaderInfoLog(vertexShader, 512, NULL, infoLog);
        std::cout << "ERROR::SHADER::VERTEX::COMPILATION_FAILED\n" << infoLog << std::endl;
    }
    ```

    

- ## 片段着色器

  - 计算像素最后的颜色输出

- ## 链接着色器到用于渲染的着色器程序（Shader Program）中

- ## 使用着色器程序

- ## 清除着色器对象

- ## 链接顶点属性